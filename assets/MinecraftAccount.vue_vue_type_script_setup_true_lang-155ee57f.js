import{d as m,q as d,aF as f,o as l,b as i,l as h,n as p,c as g,u as y,aK as w,F as v,h as F,t as B}from"./vendor-d69100bd.js";const U={ref:"mcHead"},E=["src","alt"],M=m({__name:"MinecraftAccount",props:{uuid:String,name:{type:String,required:!0},fetchUsernameFromUuid:Boolean,collapse:Boolean},setup(n){const s=n,r=d(s.name);f(async()=>{const a=s.fetchUsernameFromUuid,e=s.uuid,t=s.name;e&&a?r.value=await u(e,t):r.value=t});async function u(a,e){const t=`Failed to get name for uuid ${a}, using fallback ${e} instead`;try{const o=await fetch("https://api.minetools.eu/uuid/"+a.replaceAll("-",""));if(o.status!==200)return console.warn(t),e;{const c=await o.json();return typeof c.error<"u"?(console.warn(t+". Error: "+c.error),e):c.name}}catch(o){return console.warn(t+". Error: "+o),e}}return(a,e)=>(l(),i("div",U,[h("img",{loading:"lazy",src:"https://mc-heads.net/avatar/"+(n.uuid??n.name)+"/32",width:"32",height:"32",alt:r.value,class:p(n.collapse?"m-1":"")},null,10,E),n.collapse?(l(),g(y(w),{key:0,target:()=>a.$refs.mcHead,title:r.value,placement:"top"},null,8,["target","title"])):(l(),i(v,{key:1},[F(B(" "+r.value),1)],64))],512))}});export{M as _};
