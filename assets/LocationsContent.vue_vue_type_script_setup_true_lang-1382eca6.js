import{_ as L}from"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-3a49c95b.js";import{_ as j}from"./MarkdownLazy.vue_vue_type_script_setup_true_lang-38729b26.js";import{d as k,r as x,o as n,b as a,l as f,c as u,A as $,F as r,q as _,aF as S,aG as B,f as y,w as h,e as v,u as p,P as N,x as T,aH as P,aI as z,aJ as A,h as q,t as C,j as F}from"./vendor-d69100bd.js";import{b as O}from"./builds_image_data-62dcef0c.js";import{c as R}from"./index-b7d3de9b.js";import{_ as w}from"./MinecraftAccount.vue_vue_type_script_setup_true_lang-155ee57f.js";const W=["srcset"],E=["srcset"],U=["src","alt"],I=k({__name:"PictureWithWebp",props:{image:{type:Object,required:!0},title:{type:String,required:!1}},emits:["load"],setup(e){return(c,l)=>{const d=x("font-awesome-icon");return n(),a(r,null,[f("picture",null,[f("source",{srcset:e.image.webp,type:"image/webp"},null,8,W),f("source",{srcset:e.image.normal,type:"image/jpeg"},null,8,E),f("img",{class:"img-fluid img-thumbnail",loading:"lazy",src:e.image.normal,alt:e.title,onLoad:l[0]||(l[0]=s=>c.$emit("load"))},null,40,U)]),e.image.loaded?$("",!0):(n(),u(d,{key:0,icon:["fas","spinner"],spin:"",size:"3x"}))],64)}}}),D=f("h5",null,"Images",-1),G=["onClick"],H=f("h5",{"data-ignore-sidebar":"true"},"Images",-1),J=k({__name:"LocationImages",props:{images:{type:Array,required:!0},locationId:{type:String,required:!0}},setup(e){const c=e,l=_(!1),d=_(0),s=_();S(()=>{s.value=B(m(c.images))});function i(g){const o=g.split("/");let t=O,b;for(;b=o.shift();)t=t[b];return t}function m(g){const o=[];for(let t=0;t<g.length;t++)o[t]={...g[t],...R(i(g[t].name))};return o}return(g,o)=>(n(),a(r,null,[D,y(p(T),{onClick:o[0]||(o[0]=t=>l.value=!l.value)},{default:h(()=>[(n(!0),a(r,null,v(s.value,(t,b)=>(n(),u(p(N),{key:e.locationId+"_"+b,md:"4",sm:"6",cols:"12"},{default:h(()=>[f("div",{class:"d-block mb-4 h-100",onClick:V=>d.value=b},[y(I,{image:t.lowRes,title:t.title,onLoad:V=>t.lowRes.loaded=!0},null,8,["image","title","onLoad"])],8,G)]),_:2},1024))),128))]),_:1}),y(p(A),{modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=t=>l.value=t),"ok-only":"","ok-variant":"secondary","ok-title":"Close",title:"Images",size:"xl",centered:""},{header:h(()=>[H]),default:h(()=>[y(p(P),{id:"locationCarousel-"+e.locationId,modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=t=>d.value=t),controls:"",class:"mt-5",interval:0},{default:h(()=>[(n(!0),a(r,null,v(s.value,t=>(n(),u(p(z),{key:t.name,caption:t.title,text:t.description},{img:h(()=>[y(I,{image:t.highRes,title:t.title,onLoad:b=>t.highRes.loaded=!0},null,8,["image","title","onLoad"])]),_:2},1032,["caption","text"]))),128))]),_:1},8,["id","modelValue"])]),_:1},8,["modelValue"])],64))}}),K={class:"mb-3"},M=f("br",null,null,-1),Q={key:0},X={key:1,class:"d-flex flex-wrap"},Y=k({__name:"LocationBuilders",props:{builders:{type:Array,required:!0},type:String},setup(e){const c=e,l=_("");switch(c.type){case"town":l.value="Owner";break;default:l.value="Builder"}return l.value+=c.builders.length>1?"s:":":",(d,s)=>(n(),a("div",K,[q(C(l.value)+" ",1),e.builders.length===1?(n(),u(w,{key:0,name:e.builders[0].name,uuid:e.builders[0].uuid,"fetch-username-from-uuid":"",class:"d-inline"},null,8,["name","uuid"])):(n(),a(r,{key:1},[M,e.builders.length<=5?(n(),a("ul",Q,[(n(!0),a(r,null,v(e.builders,(i,m)=>(n(),a("li",{key:m,class:"mb-1"},[y(w,{name:i.name,uuid:i.uuid,"fetch-username-from-uuid":""},null,8,["name","uuid"])]))),128))])):(n(),a("div",X,[(n(!0),a(r,null,v(e.builders,(i,m)=>(n(),u(w,{key:m,name:i.name,uuid:i.uuid,"fetch-username-from-uuid":"",collapse:""},null,8,["name","uuid"]))),128))]))],64))]))}}),Z=k({__name:"LocationItem",props:{locationId:{type:String,required:!0},location:{type:Object,required:!0},depth:{type:Number,required:!0}},setup(e){function c(l){return l}return(l,d)=>{const s=x("location-item",!0);return n(),a("section",null,[y(L,{id:"location-"+e.locationId,level:3+e.depth},{default:h(()=>[q(C(e.location.displayName),1)]),_:1},8,["id","level"]),e.location.builders?(n(),u(Y,{key:0,builders:e.location.builders,type:e.location.type},null,8,["builders","type"])):$("",!0),e.location.description?(n(),u(j,{key:1,content:e.location.description},null,8,["content"])):$("",!0),e.location.images?(n(),u(J,{key:2,images:e.location.images,"location-id":e.locationId},null,8,["images","location-id"])):$("",!0),(n(!0),a(r,null,v(e.location.sublocations,(i,m)=>(n(),u(s,{key:m,depth:e.depth+1,"location-id":m,location:i},null,8,["depth","location-id","location"]))),128))])}}}),oe=k({__name:"LocationsContent",props:{locations:{type:Object,required:!0}},setup(e){function c(l){return l}return(l,d)=>(n(),a("main",null,[F(l.$slots,"default"),(n(!0),a(r,null,v(e.locations,(s,i)=>(n(),u(Z,{key:i,depth:0,"location-id":i,location:s},null,8,["location-id","location"]))),128))]))}});export{oe as _};
