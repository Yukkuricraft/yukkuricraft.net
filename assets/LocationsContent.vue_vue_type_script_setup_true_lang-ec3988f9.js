import{_ as L}from"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-d651a94b.js";import{_ as j}from"./MarkdownLazy.vue_vue_type_script_setup_true_lang-67ad1737.js";import{d as v,r as I,o as n,b as a,l as f,c as s,A as $,F as c,q as _,aF as S,aG as T,f as y,w as h,e as p,u as k,P as B,x as N,aH as P,aI as z,aJ as A,p as F,h as q,t as C,j as O}from"./vendor-a8507b7f.js";import{b as R}from"./builds_image_data-7bf3110f.js";import{c as W}from"./index-84804f8e.js";import{_ as w}from"./MinecraftAccount.vue_vue_type_script_setup_true_lang-02891208.js";const E=["srcset"],U=["srcset"],D=["src","alt"],x=v({__name:"PictureWithWebp",props:{image:{type:Object,required:!0},title:{type:String,required:!1}},emits:["load"],setup(e){return(d,l)=>{const o=I("font-awesome-icon");return n(),a(c,null,[f("picture",null,[f("source",{srcset:e.image.webp,type:"image/webp"},null,8,E),f("source",{srcset:e.image.normal,type:"image/jpeg"},null,8,U),f("img",{class:"img-fluid img-thumbnail",loading:"lazy",src:e.image.normal,alt:e.title,onLoad:l[0]||(l[0]=r=>d.$emit("load"))},null,40,D)]),e.image.loaded?$("",!0):(n(),s(o,{key:0,icon:["fas","spinner"],spin:"",size:"3x"}))],64)}}}),G=f("h5",null,"Images",-1),H=["onClick"],J=f("h5",{"data-ignore-sidebar":"true"},"Images",-1),K=v({__name:"LocationImages",props:{images:{type:Array,required:!0},locationId:{type:String,required:!0}},setup(e){const d=e,l=_(!1),o=_(0),r=_();S(()=>{r.value=T(m(d.images))});function i(g){const u=g.split("/");let t=R,b;for(;b=u.shift();)t=t[b];return t}function m(g){const u=[];for(let t=0;t<g.length;t++)u[t]={...g[t],...W(i(g[t].name))};return u}return(g,u)=>(n(),a(c,null,[G,y(k(N),{onClick:u[0]||(u[0]=t=>l.value=!l.value)},{default:h(()=>[(n(!0),a(c,null,p(r.value,(t,b)=>(n(),s(k(B),{key:e.locationId+"_"+b,md:"4",sm:"6",cols:"12"},{default:h(()=>[f("div",{class:"d-block mb-4 h-100",onClick:V=>o.value=b},[y(x,{image:t.lowRes,title:t.title,onLoad:V=>t.lowRes.loaded=!0},null,8,["image","title","onLoad"])],8,H)]),_:2},1024))),128))]),_:1}),y(k(A),{modelValue:l.value,"onUpdate:modelValue":u[2]||(u[2]=t=>l.value=t),"ok-only":"","ok-variant":"secondary","ok-title":"Close",title:"Images",size:"xl",centered:""},{header:h(()=>[J]),default:h(()=>[y(k(P),{id:"locationCarousel-"+e.locationId,modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=t=>o.value=t),controls:"",class:"mt-5",interval:0},{default:h(()=>[(n(!0),a(c,null,p(r.value,t=>(n(),s(k(z),{key:t.name,caption:t.title,text:t.description},{img:h(()=>[y(x,{image:t.highRes,title:t.title,onLoad:b=>t.highRes.loaded=!0},null,8,["image","title","onLoad"])]),_:2},1032,["caption","text"]))),128))]),_:1},8,["id","modelValue"])]),_:1},8,["modelValue"])],64))}}),M={class:"mb-3"},Q=f("br",null,null,-1),X={key:0},Y={key:1,class:"d-flex flex-wrap"},Z=v({__name:"LocationBuilders",props:{builders:{type:Array,required:!0},type:String},setup(e){const d=e,l=F(()=>{let o="";switch(d.type){case"town":o="Owner";break;default:o="Builder"}return o+(d.builders.length>1?"s:":":")});return(o,r)=>(n(),a("div",M,[q(C(l.value)+" ",1),e.builders.length===1?(n(),s(w,{key:0,name:e.builders[0].name,uuid:e.builders[0].uuid,"fetch-username-from-uuid":"",class:"d-inline"},null,8,["name","uuid"])):(n(),a(c,{key:1},[Q,e.builders.length<=5?(n(),a("ul",X,[(n(!0),a(c,null,p(e.builders,(i,m)=>(n(),a("li",{key:m,class:"mb-1"},[y(w,{name:i.name,uuid:i.uuid,"fetch-username-from-uuid":""},null,8,["name","uuid"])]))),128))])):(n(),a("div",Y,[(n(!0),a(c,null,p(e.builders,(i,m)=>(n(),s(w,{key:m,name:i.name,uuid:i.uuid,"fetch-username-from-uuid":"",collapse:""},null,8,["name","uuid"]))),128))]))],64))]))}}),ee=v({__name:"LocationItem",props:{locationId:{type:String,required:!0},location:{type:Object,required:!0},depth:{type:Number,required:!0}},setup(e){function d(l){return l}return(l,o)=>{const r=I("location-item",!0);return n(),a("section",null,[y(L,{id:"location-"+e.locationId,level:3+e.depth},{default:h(()=>[q(C(e.location.displayName),1)]),_:1},8,["id","level"]),e.location.builders?(n(),s(Z,{key:0,builders:e.location.builders,type:e.location.type},null,8,["builders","type"])):$("",!0),e.location.description?(n(),s(j,{key:1,content:e.location.description},null,8,["content"])):$("",!0),e.location.images?(n(),s(K,{key:2,images:e.location.images,"location-id":e.locationId},null,8,["images","location-id"])):$("",!0),(n(!0),a(c,null,p(e.location.sublocations,(i,m)=>(n(),s(r,{key:m,depth:e.depth+1,"location-id":m,location:i},null,8,["depth","location-id","location"]))),128))])}}}),ue=v({__name:"LocationsContent",props:{locations:{type:Object,required:!0}},setup(e){function d(l){return l}return(l,o)=>(n(),a("main",null,[O(l.$slots,"default"),(n(!0),a(c,null,p(e.locations,(r,i)=>(n(),s(ee,{key:i,depth:0,"location-id":i,location:r},null,8,["location-id","location"]))),128))]))}});export{ue as _};
