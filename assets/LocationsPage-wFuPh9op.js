import{_ as m}from"./LocationsContent.vue_vue_type_script_setup_true_lang-BnrPU1aq.js";import{b as d,m as p}from"./index-RLYcWKQz.js";import{W as L,e as h,z as _,V as g,o as k,H as w,j as S,k as v}from"./vendor-r4KzVXQF.js";import"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-DvtJE9u5.js";import"./builds_image_data-B5LXDbnE.js";import"./MinecraftAccount.vue_vue_type_script_setup_true_lang-Tj2H-O6R.js";import"./vendor_tippy-GPeo4exr.js";import"./avatar_image_data-DLWeh9bb.js";import"./backgrounds_image_data-BXiCIaSz.js";const y=L("locations",{state:()=>({allLocations:[],loadingLocations:!1,waiters:[]}),actions:{startLoading(){this.loadingLocations=!0},registerWaiter(t){this.waiters.push(t)},setAllLocations(t){t.forEach(({locations:o,idx:i})=>{this.allLocations[i]=o})},endLoading(){this.loadingLocations=!1;for(const t of this.waiters)t();this.waiters=[]},async loadLocations(){if(this.loadingLocations){await new Promise(o=>this.registerWaiter(o));return}this.startLoading();const t=await d(()=>import("./locationList-CfuJaEpp.js"),[]).then(o=>Object.values(o.neo_genso).map((i,n)=>({locations:i,idx:n})));this.setAllLocations(t),this.endLoading()}}}),G=h({__name:"LocationsPage",setup(t){const o=y(),i=_(()=>JSON.parse(JSON.stringify(n(o.allLocations,"sublocations"))));g(()=>o.loadLocations());function n(c,e){const a={};for(const l of c)if(l)for(const[s,r]of Object.entries(l))if(!a[s])a[s]=r;else{const f=a[s][e],u=r[e];a[s]={...[a[s]],...r},a[s][e]=n([f,u],e)}return a}return k(async()=>{o.allLocations.length===0&&await o.loadLocations()}),w(p({title:"Yukkuricraft - Gensokyo",description:"Look at all the different places in our Gensokyo.",url:"gensokyo/"})),(c,e)=>(v(),S(m,{locations:i.value},null,8,["locations"]))}});export{G as default};
