import{W as m,e as d,z as p,V as L,o as h,H as _,n as g,j as k}from"./vendor-CZqdyj9L.js";import{_ as w}from"./LocationsContent.vue_vue_type_script_setup_true_lang-CLe-H5-S.js";import{b as S,m as v}from"./index-BA-1ZDZk.js";import"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-Cuqn2E5g.js";import"./builds_image_data-DS7nyQCO.js";import"./MinecraftAccount.vue_vue_type_script_setup_true_lang-CfBLFrQs.js";import"./vendor_tippy-X0UwxXms.js";import"./avatar_image_data-CSY4qFI-.js";import"./backgrounds_image_data-BbQ16IpF.js";const y=m("locations",{state:()=>({allLocations:[],loadingLocations:!1,waiters:[]}),actions:{startLoading(){this.loadingLocations=!0},registerWaiter(t){this.waiters.push(t)},setAllLocations(t){t.forEach(({locations:o,idx:i})=>{this.allLocations[i]=o})},endLoading(){this.loadingLocations=!1;for(const t of this.waiters)t();this.waiters=[]},async loadLocations(){if(this.loadingLocations){await new Promise(o=>this.registerWaiter(o));return}this.startLoading();const t=await S(()=>import("./locationList-Vmh_lhyy.js"),[]).then(o=>Object.values(o.neo_genso).map((i,n)=>({locations:i,idx:n})));this.setAllLocations(t),this.endLoading()}}}),C=d({__name:"LocationsPage",setup(t){const o=y(),i=p(()=>JSON.parse(JSON.stringify(n(o.allLocations,"sublocations"))));L(()=>o.loadLocations());function n(c,e){const a={};for(const l of c)if(l)for(const[s,r]of Object.entries(l))if(!a[s])a[s]=r;else{const f=a[s][e],u=r[e];a[s]={...[a[s]],...r},a[s][e]=n([f,u],e)}return a}return h(async()=>{o.allLocations.length===0&&await o.loadLocations()}),_(v({title:"YukkuriCraft - Gensokyo",description:"Look at all the different places in our Gensokyo.",url:"gensokyo/"})),(c,e)=>(k(),g(w,{locations:i.value},null,8,["locations"]))}});export{C as default};
