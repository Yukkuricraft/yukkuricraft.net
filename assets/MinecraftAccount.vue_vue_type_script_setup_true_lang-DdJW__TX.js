import{d as f,l as u,ad as h,o as l,a as m,j as p,c as g,u as y,ai as v,F as w,f as B,t as F}from"./vendor-CerZGVum.js";const U=["src","alt"],E=f({__name:"MinecraftAccount",props:{uuid:String,name:{type:String,required:!0},fetchUsernameFromUuid:Boolean,collapse:Boolean},setup(r){const i=u(null),o=r,a=u(o.name);h(async()=>{const n=o.fetchUsernameFromUuid,e=o.uuid,t=o.name;a.value=t,e&&n&&(a.value=await d(e,t))});async function d(n,e){const t=`Failed to get name for uuid ${n}, using fallback ${e} instead`;try{const s=await fetch("https://api.minetools.eu/uuid/"+n.replaceAll("-",""));if(s.status!==200)return console.warn(t),e;{const c=await s.json();return typeof c.error<"u"?(console.warn(t+". Error: "+c.error),e):c.name}}catch(s){return console.warn(t+". Error: "+s),e}}return(n,e)=>(l(),m("div",{ref_key:"mcHead",ref:i},[p("img",{loading:"lazy",src:`https://mc-heads.net/avatar/${r.uuid??r.name}/32`,width:"32",height:"32",alt:a.value,class:"m-1"},null,8,U),r.collapse?(l(),g(y(v),{key:0,target:i.value,title:a.value,placement:"top"},null,8,["target","title"])):(l(),m(w,{key:1},[B(F(a.value),1)],64))],512))}});export{E as _};
