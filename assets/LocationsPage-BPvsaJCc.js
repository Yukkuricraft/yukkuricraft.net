import{W as m,e as d,z as p,V as L,o as h,H as _,n as g,j as k}from"./vendor-D8Q-cJ-c.js";import{_ as w}from"./LocationsContent.vue_vue_type_script_setup_true_lang-TKB_tAUV.js";import{b as S,m as v}from"./index-B4P1X7Xg.js";import"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-BwKEdLnh.js";import"./builds_image_data-DS7nyQCO.js";import"./MinecraftAccount.vue_vue_type_script_setup_true_lang-Dl52FAPV.js";import"./vendor_tippy-DWv7MCnF.js";import"./avatar_image_data-Y7d1sKhe.js";import"./backgrounds_image_data-BbQ16IpF.js";const y=m("locations",{state:()=>({allLocations:[],loadingLocations:!1,waiters:[]}),actions:{startLoading(){this.loadingLocations=!0},registerWaiter(t){this.waiters.push(t)},setAllLocations(t){t.forEach(({locations:o,idx:i})=>{this.allLocations[i]=o})},endLoading(){this.loadingLocations=!1;for(const t of this.waiters)t();this.waiters=[]},async loadLocations(){if(this.loadingLocations){await new Promise(o=>this.registerWaiter(o));return}this.startLoading();const t=await S(()=>import("./locationList-Vmh_lhyy.js"),[]).then(o=>Object.values(o.neo_genso).map((i,n)=>({locations:i,idx:n})));this.setAllLocations(t),this.endLoading()}}}),G=d({__name:"LocationsPage",setup(t){const o=y(),i=p(()=>JSON.parse(JSON.stringify(n(o.allLocations,"sublocations"))));L(()=>o.loadLocations());function n(c,e){const a={};for(const l of c)if(l)for(const[s,r]of Object.entries(l))if(!a[s])a[s]=r;else{const f=a[s][e],u=r[e];a[s]={...[a[s]],...r},a[s][e]=n([f,u],e)}return a}return h(async()=>{o.allLocations.length===0&&await o.loadLocations()}),_(v({title:"Yukkuricraft - Gensokyo",description:"Look at all the different places in our Gensokyo.",url:"gensokyo/"})),(c,e)=>(k(),g(w,{locations:i.value},null,8,["locations"]))}});export{G as default};
