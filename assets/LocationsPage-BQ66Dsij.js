import{ab as m,d as u,k as p,a8 as L,A as h,z as _,o as g,c as k}from"./vendor-CerZGVum.js";import{_ as w}from"./LocationsContent.vue_vue_type_script_setup_true_lang-Bc1_6wVU.js";import{_ as S,m as y}from"./index-BcuhjOdX.js";import"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-B2LwZ2n6.js";import"./MarkdownLazy.vue_vue_type_script_setup_true_lang-CC4kL53-.js";import"./builds_image_data-BSwRo91L.js";import"./MinecraftAccount.vue_vue_type_script_setup_true_lang-DdJW__TX.js";import"./avatar_image_data-DsWJgBA6.js";import"./backgrounds_image_data-BbQ16IpF.js";const v=m("locations",{state:()=>({allLocations:[],loadingLocations:!1,waiters:[]}),actions:{startLoading(){this.loadingLocations=!0},registerWaiter(t){this.waiters.push(t)},setAllLocations(t){t.forEach(({locations:o,idx:i})=>{this.allLocations[i]=o})},endLoading(){this.loadingLocations=!1;for(const t of this.waiters)t();this.waiters=[]},async loadLocations(){if(this.loadingLocations){await new Promise(o=>this.registerWaiter(o));return}this.startLoading();const t=await S(()=>import("./locationList-CneCiWqo.js"),[]).then(o=>o.neoGenso.map((i,n)=>({locations:i,idx:n})));this.setAllLocations(t),this.endLoading()}}}),C=u({__name:"LocationsPage",setup(t){const o=v(),i=p(()=>JSON.parse(JSON.stringify(n(o.allLocations,"sublocations"))));L(()=>o.loadLocations());function n(c,e){const a={};for(const l of c)if(l)for(const[s,r]of Object.entries(l))if(!a[s])a[s]=r;else{const f=a[s][e],d=r[e];a[s]={...[a[s]],...r},a[s][e]=n([f,d],e)}return a}return h(async()=>{o.allLocations.length===0&&await o.loadLocations()}),_(y({title:"YukkuriCraft - Gensokyo",description:"Look at all the different places in our Gensokyo.",url:"gensokyo/"})),(c,e)=>(g(),k(w,{locations:i.value},null,8,["locations"]))}});export{C as default};
