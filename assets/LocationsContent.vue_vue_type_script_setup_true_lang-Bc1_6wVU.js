import{_ as L}from"./ConfigurableHeading.vue_vue_type_script_setup_true_lang-B2LwZ2n6.js";import{_ as S}from"./MarkdownLazy.vue_vue_type_script_setup_true_lang-CC4kL53-.js";import{d as k,r as I,o as n,a as o,j as h,c as s,x as $,F as d,l as w,ad as T,ae as j,e as f,w as m,b,u as p,U as B,q as N,af as R,ag as z,ah as O,k as U,f as q,t as C,h as W}from"./vendor-CerZGVum.js";import{b as F}from"./builds_image_data-BSwRo91L.js";import{c as P}from"./index-BcuhjOdX.js";import{_ as x}from"./MinecraftAccount.vue_vue_type_script_setup_true_lang-DdJW__TX.js";const A=["srcset"],D=["srcset"],E=["src","alt"],_=k({__name:"PictureWithWebp",props:{image:{type:Object,required:!0},title:{type:String,required:!1}},emits:["load"],setup(e){return(c,a)=>{const i=I("font-awesome-icon");return n(),o(d,null,[h("picture",null,[h("source",{srcset:e.image.webp,type:"image/webp"},null,8,A),h("source",{srcset:e.image.normal,type:"image/jpeg"},null,8,D),h("img",{class:"img-fluid img-thumbnail",loading:"lazy",src:e.image.normal,alt:e.title,onLoad:a[0]||(a[0]=r=>c.$emit("load"))},null,40,E)]),e.image.loaded?$("",!0):(n(),s(i,{key:0,icon:["fas","spinner"],spin:"",size:"3x"}))],64)}}}),G=h("h5",null,"Images",-1),H=["onClick"],J=h("h5",{"data-ignore-sidebar":"true"},"Images",-1),K=k({__name:"LocationImages",props:{images:{type:Array,required:!0},locationId:{type:String,required:!0}},setup(e){const c=e,a=w(!1),i=w(0),r=w();T(()=>{r.value=j(v(c.images))});function l(y){const u=y.split("/");let t=F,g;for(;g=u.shift();)t=t[g];return t}function v(y){const u=[];for(let t=0;t<y.length;t++)u[t]={...y[t],...P(l(y[t].name))};return u}return(y,u)=>(n(),o(d,null,[G,f(p(N),{onClick:u[0]||(u[0]=t=>a.value=!a.value)},{default:m(()=>[(n(!0),o(d,null,b(r.value,(t,g)=>(n(),s(p(B),{key:e.locationId+"_"+g,md:"4",sm:"6",cols:"12"},{default:m(()=>[h("div",{class:"d-block mb-4 h-100",onClick:V=>i.value=g},[f(_,{image:t.lowRes,title:t.title,onLoad:V=>t.lowRes.loaded=!0},null,8,["image","title","onLoad"])],8,H)]),_:2},1024))),128))]),_:1}),f(p(O),{modelValue:a.value,"onUpdate:modelValue":u[2]||(u[2]=t=>a.value=t),"ok-only":"","ok-variant":"secondary","ok-title":"Close",title:"Images",size:"xl",centered:""},{header:m(()=>[J]),default:m(()=>[f(p(R),{id:"locationCarousel-"+e.locationId,modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=t=>i.value=t),controls:"",class:"mt-5",interval:0},{default:m(()=>[(n(!0),o(d,null,b(r.value,t=>(n(),s(p(z),{key:t.name,caption:t.title,text:t.description},{img:m(()=>[f(_,{image:t.highRes,title:t.title,onLoad:g=>t.highRes.loaded=!0},null,8,["image","title","onLoad"])]),_:2},1032,["caption","text"]))),128))]),_:1},8,["id","modelValue"])]),_:1},8,["modelValue"])],64))}}),M={class:"mb-3"},Q={key:1},X={key:2,class:"d-flex flex-wrap"},Y=k({__name:"LocationBuilders",props:{builders:{type:Array,required:!0},type:String},setup(e){const c=e,a=U(()=>{let i="";switch(c.type){case"town":i="Owner";break;default:i="Builder"}return i+(c.builders.length>1?"s:":":")});return(i,r)=>(n(),o("div",M,[q(C(a.value)+" ",1),e.builders.length===1?(n(),s(x,{key:0,name:e.builders[0].name,uuid:e.builders[0].uuid,"fetch-username-from-uuid":"",class:"d-inline"},null,8,["name","uuid"])):e.builders.length<=5?(n(),o("ul",Q,[(n(!0),o(d,null,b(e.builders,l=>(n(),o("li",{key:l.uuid,class:"mb-1"},[f(x,{name:l.name,uuid:l.uuid,"fetch-username-from-uuid":""},null,8,["name","uuid"])]))),128))])):(n(),o("div",X,[(n(!0),o(d,null,b(e.builders,l=>(n(),s(x,{key:l.uuid,name:l.name,uuid:l.uuid,"fetch-username-from-uuid":"",collapse:""},null,8,["name","uuid"]))),128))]))]))}}),Z=k({__name:"LocationItem",props:{locationId:{type:String,required:!0},location:{type:Object,required:!0},depth:{type:Number,required:!0}},setup(e){function c(a){return a}return(a,i)=>{const r=I("location-item",!0);return n(),o("section",null,[f(L,{id:"location-"+e.locationId,level:3+e.depth},{default:m(()=>[q(C(e.location.displayName),1)]),_:1},8,["id","level"]),e.location.builders?(n(),s(Y,{key:0,builders:e.location.builders,type:e.location.type},null,8,["builders","type"])):$("",!0),e.location.description?(n(),s(S,{key:1,content:e.location.description},null,8,["content"])):$("",!0),e.location.images?(n(),s(K,{key:2,images:e.location.images,"location-id":e.locationId},null,8,["images","location-id"])):$("",!0),(n(!0),o(d,null,b(e.location.sublocations,(l,v)=>(n(),s(r,{key:v,depth:e.depth+1,"location-id":v,location:l},null,8,["depth","location-id","location"]))),128))])}}}),ie=k({__name:"LocationsContent",props:{locations:{type:Object,required:!0}},setup(e){function c(a){return a}return(a,i)=>(n(),o("main",null,[W(a.$slots,"default"),(n(!0),o(d,null,b(e.locations,(r,l)=>(n(),s(Z,{key:l,depth:0,"location-id":l,location:r},null,8,["location-id","location"]))),128))]))}});export{ie as _};
