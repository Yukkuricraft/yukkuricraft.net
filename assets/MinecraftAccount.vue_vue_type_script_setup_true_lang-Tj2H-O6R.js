import{d as m}from"./vendor_tippy-GPeo4exr.js";import{e as d,r as f,Z as h,B as p,y,f as i,k as l,l as g,q as v,E as w,t as B}from"./vendor-r4KzVXQF.js";const E={class:"m-1"},U=["src","alt"],k={key:0},x=d({__name:"MinecraftAccount",props:{uuid:String,name:{type:String,required:!0},fetchUsernameFromUuid:Boolean,collapse:Boolean},setup(a){const s=a,n=f(s.name);h(async()=>{const r=s.fetchUsernameFromUuid,e=s.uuid,t=s.name;n.value=t,e&&r&&(n.value=await u(e,t))});async function u(r,e){const t=`Failed to get name for uuid ${r}, using fallback ${e} instead`;try{const o=await fetch("https://api.minetools.eu/uuid/"+r.replaceAll("-",""));if(o.status!==200)return console.warn(t),e;{const c=await o.json();return typeof c.error<"u"?(console.warn(t+". Error: "+c.error),e):c.name}}catch(o){return console.warn(t+". Error: "+o),e}}return(r,e)=>p((l(),i("span",E,[g("img",{loading:"lazy",src:`https://mc-heads.net/avatar/${a.uuid??a.name}/32`,width:"32",height:"32",alt:n.value,style:{"vertical-align":"middle"}},null,8,U),e[0]||(e[0]=v("Â  ")),a.collapse?w("",!0):(l(),i("span",k,B(n.value),1))])),[[y(m),a.collapse?{content:n.value,theme:"yukkuricraft"}:null]])}});export{x as _};
